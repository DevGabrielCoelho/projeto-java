## 📑 Cron Logs

This directory (`logs/`) stores the log files generated by the system's automated executions, coordinated by the `CronController.java` class.

### 🔍 Overview

The system includes an automated routine (cron job) implemented in Java, which is responsible for:

* Generating execution logs with timestamps.
* Simulating or recording scheduled activities.
* Storing logs locally as text files inside the `logs/` folder.

### 🧠 Internal Behavior

The `CronController` class is responsible for triggering scheduled tasks. In the current implementation, its main function is to **write logs** for debugging and tracking the system’s automatic executions.

#### ✏️ Example log output:

```log
Jun 16, 2025 12:40:48 AM controller.CronController checkExpiredGuarantees
INFO: [CRON] Verifying expired guarantees on 2025-06-16
```

Each log entry includes a timestamp to help trace the execution flow.

#### 📄 Default log file location:

```
projeto-java/logs/cron.log
```

> ⚠️ The file name may vary depending on the implementation of `CronController`.

### 🔁 Execution Trigger

The `CronController` routine can be triggered:

* Manually via code in `App.java`.
* Periodically, if integrated in the future with a `ScheduledExecutorService` or other scheduling mechanism (not yet implemented).
* As a simulation of a Unix cron job, by executing it at custom intervals.

---

### 📌 Notes

* The current system **does not rely on an external OS-level scheduler (like cron)**, but you can configure it to run `App` or `CronController` at the intervals of your choice.
* Logging is useful for debugging, especially when the application is running in the background or embedded in other systems.

### 📁 Relevant Structure

```
logs/
└── cron.log         # Cron execution log file (generated automatically)
```

---

### 🧪 Related Code Example (`CronController.java`)

```java
public class CronController {
    private void checkExpiredGuarantees() {
        LocalDate today = LocalDate.now();

        logger.info("[CRON] Verifying expired guarantees on " + today + "\n");

        for (Guarantee guarantee : guarantees) {
            if ("Vencida".equals(guarantee.getStatus())) {
                logger.info("[CRON] Expired guarantee: " + guarantee.getService().getDefect() + " - Expired on: " + guarantee.getFormatedEnd() + "\n");
                logger.info("[CRON] Client notified: " + guarantee.getService().getClient().getEmail() + "\n");
            }
        }
    }
}
```